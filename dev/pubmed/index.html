<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PubMed · BioMedQuery.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>BioMedQuery.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../examples/">Overview</a></li><li><a class="toctext" href="../examples/1_pubmed_search_and_save/">Pubmed Search and Save</a></li><li><a class="toctext" href="../examples/2_umls_map_and_filter/">MeSH/UMLS Map and Filtering</a></li><li><a class="toctext" href="../examples/4_pubmed_export_citations/">Export to Citations</a></li><li><a class="toctext" href="../examples/5_load_medline/">Load MEDLINE</a></li></ul></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../processes/">Processes/Workflows</a></li><li class="current"><a class="toctext" href>PubMed</a><ul class="internal"><li><a class="toctext" href="#Import-Module-1">Import Module</a></li><li><a class="toctext" href="#Basics-of-searching-PubMed-1">Basics of searching PubMed</a></li><li><a class="toctext" href="#Handling-XML-responses-1">Handling XML responses</a></li><li><a class="toctext" href="#Save-eseach/efetch-responses-1">Save eseach/efetch responses</a></li><li><a class="toctext" href="#Index-1">Index</a></li><li><a class="toctext" href="#Structs-and-Functions-1">Structs and Functions</a></li></ul></li><li><a class="toctext" href="../ct/">Clinical Trials</a></li><li><a class="toctext" href="../dbutils/">Database Utilities</a></li><li><a class="toctext" href="../library/">Library</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>PubMed</a></li></ul><a class="edit-page" href="https://github.com/bcbi/BioMedQuery.jl/blob/master/docs/src/pubmed.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>PubMed</span><a class="fa fa-bars" href="#"></a></div></header><p>Utility functions to parse and store PubMed searches via <a href="http://biojulia.net/BioServices.jl/latest/man/eutils">BioServices.EUtils</a></p><h2><a class="nav-anchor" id="Import-Module-1" href="#Import-Module-1">Import Module</a></h2><pre><code class="language-none">using BioMedQuery.PubMed</code></pre><p>This module provides utility functions to parse, store and export queries to PubMed via the NCBI EUtils and its julia interface <a href="http://biojulia.net/BioServices.jl/latest/man/eutils">BioServices.EUtils</a>. For many purposes you may interact with the higher level pipelines in [BioMedQuery.Processes]. Here, some of the lower level functions are discussed in case you need to assemble different pipelines.</p><h2><a class="nav-anchor" id="Basics-of-searching-PubMed-1" href="#Basics-of-searching-PubMed-1">Basics of searching PubMed</a></h2><p>We are often interested in searching PubMed for all articles related to a search term, and possibly restricted by other search criteria. To do so we use <a href="http://biojulia.net/BioServices.jl/latest/man/eutils">BioServices.EUtils</a>. A basic example of how we may use the functions <code>esearch</code> and <code>efetch</code> to accomplish such task is illustrated below.</p><pre><code class="language-julia">using BioServices.EUtils
using XMLDict
using LightXML

search_term = &quot;obstructive sleep apnea[MeSH Major Topic]&quot;

#esearch
esearch_response = esearch(db=&quot;pubmed&quot;, term = search_term,
retstart = 0, retmax = 20, tool =&quot;BioJulia&quot;)

#convert xml to dictionary
esearch_dict = parse_xml(String(esearch_response.body))

#convert id&#39;s to a array of numbers
ids = [parse(Int64, id_node) for id_node in esearch_dict[&quot;IdList&quot;][&quot;Id&quot;]]

#efetch
efetch_response = efetch(db = &quot;pubmed&quot;, tool = &quot;BioJulia&quot;, retmode = &quot;xml&quot;, rettype = &quot;null&quot;, id = ids)

#convert xml to xml node tree
efetch_doc = root(parse_string(String(efetch_response.body)))</code></pre><h2><a class="nav-anchor" id="Handling-XML-responses-1" href="#Handling-XML-responses-1">Handling XML responses</a></h2><p>Many APIs return responses in XML form.</p><p>To parse an XML to a Julia dictionary we can use the XMLDict package</p><pre><code class="language-julia">using XMLDict
dict = parse_xml(String(response.body))  </code></pre><p>You can save directly the XML String to file</p><pre><code class="language-julia">xdoc = parse_string(esearch)
save_file(xdoc, &quot;./file.xml&quot;)</code></pre><hr/><h2><a class="nav-anchor" id="Save-eseach/efetch-responses-1" href="#Save-eseach/efetch-responses-1">Save eseach/efetch responses</a></h2><h3><a class="nav-anchor" id="Save-PMIDs-to-MySQL-1" href="#Save-PMIDs-to-MySQL-1">Save PMIDs to MySQL</a></h3><p>If we are only interseted in saving a list of PMIDs associated with a query, we can do so as follows</p><pre><code class="language-julia">dbname = &quot;entrez_test&quot;
host = &quot;127.0.0.1&quot;;
user = &quot;root&quot;
pwd = &quot;&quot;

#Collect PMIDs from esearch result
ids = Array{Int64,1}()
for id_node in esearch_dict[&quot;IdList&quot;][&quot;Id&quot;]
    push!(ids, parse(Int64, id_node))
end

# Initialize or connect to database
const conn = DBUtils.init_mysql_database(host, user, pwd, dbname)

# Create `article` table to store pmids
PubMed.create_pmid_table!(conn)

#Save pmids
PubMed.save_pmids!(conn, ids)

#query the article table to explore list of pmids
all_pmids = BioMedQuery.PubMed.all_pmids(conn)</code></pre><h3><a class="nav-anchor" id="Export-efetch-response-as-EndNote-citation-file-1" href="#Export-efetch-response-as-EndNote-citation-file-1">Export efetch response as EndNote citation file</a></h3><p>We can export the information returned by efetch as and EndNote/BibTex library file</p><pre><code class="language-julia">citation = PubMed.CitationOutput(&quot;endnote&quot;, &quot;./citations_temp.endnote&quot;, true)
nsucceses = PubMed.save_efetch!(citation, efetch_doc, verbose)</code></pre><h3><a class="nav-anchor" id="Save-efetch-response-to-MySQL-database-1" href="#Save-efetch-response-to-MySQL-database-1">Save efetch response to MySQL database</a></h3><p>Save the information returned by efetch to a MySQL database</p><pre><code class="language-julia">dbname = &quot;efetch_test&quot;
host = &quot;127.0.0.1&quot;;
user = &quot;root&quot;
pwd = &quot;&quot;

# Save results of efetch to database and cleanup intermediate CSV files
const conn = DBUtils.init_mysql_database(host, user, pwd, dbname)
PubMed.create_tables!(conn)
PubMed.save_efetch!(conn, efetch_doc, false, true) # verbose = false, drop_csv = true</code></pre><h3><a class="nav-anchor" id="Save-efetch-response-to-SQLite-database-1" href="#Save-efetch-response-to-SQLite-database-1">Save efetch response to SQLite database</a></h3><p>Save the information returned by efetch to a MySQL database</p><pre><code class="language-julia">db_path = &quot;./test_db.db&quot;

const conn = SQLite.DB(db_path)
PubMed.create_tables!(conn)
PubMed.save_efetch!(conn, efetch_doc)</code></pre><h3><a class="nav-anchor" id="Return-efetch-response-as-a-dictionary-of-DataFrames-1" href="#Return-efetch-response-as-a-dictionary-of-DataFrames-1">Return efetch response as a dictionary of DataFrames</a></h3><p>The information returned by efetch can also be returned as dataframes. The dataframes match the format of the tables that are created for the sql saving functions (schema image below). These dataframes can also easily be saved to csv files.</p><pre><code class="language-julia">    dfs = PubMed.parse(efetch_doc)

    PubMed.dfs_to_csv(dfs, &quot;my/path&quot;, &quot;my_file_prefix_&quot;)</code></pre><h3><a class="nav-anchor" id="Exploring-output-databases-1" href="#Exploring-output-databases-1">Exploring output databases</a></h3><p>The following schema has been used to store the results. If you are interested in having this module store additional fields, feel free to open an issue		</p><p><img src="../images/pubmed_schema.jpg" alt="alt"/></p><p>We can also explore the tables using BioMedQuery.DBUtils, e,g</p><pre><code class="language-julia">tables = [&quot;author_ref&quot;, &quot;mesh_desc&quot;,
&quot;mesh_qual&quot;, &quot;mesh_heading&quot;]

for t in tables
    query_str = &quot;SELECT * FROM &quot;*t*&quot; LIMIT 10;&quot;
    q = DBUtils.db_query(db, query_str)
    println(q)
end</code></pre><hr/><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#BioMedQuery.PubMed.abstracts-Tuple{Any}"><code>BioMedQuery.PubMed.abstracts</code></a></li><li><a href="#BioMedQuery.PubMed.abstracts_by_year-Tuple{Any,Any}"><code>BioMedQuery.PubMed.abstracts_by_year</code></a></li><li><a href="#BioMedQuery.PubMed.add_mysql_keys!-Tuple{MySQL.Connection}"><code>BioMedQuery.PubMed.add_mysql_keys!</code></a></li><li><a href="#BioMedQuery.PubMed.all_mesh-Tuple{Any}"><code>BioMedQuery.PubMed.all_mesh</code></a></li><li><a href="#BioMedQuery.PubMed.all_pmids-Tuple{Any}"><code>BioMedQuery.PubMed.all_pmids</code></a></li><li><a href="#BioMedQuery.PubMed.citations_bibtex"><code>BioMedQuery.PubMed.citations_bibtex</code></a></li><li><a href="#BioMedQuery.PubMed.citations_endnote"><code>BioMedQuery.PubMed.citations_endnote</code></a></li><li><a href="#BioMedQuery.PubMed.create_pmid_table!-Tuple{Any}"><code>BioMedQuery.PubMed.create_pmid_table!</code></a></li><li><a href="#BioMedQuery.PubMed.create_tables!-Tuple{Any}"><code>BioMedQuery.PubMed.create_tables!</code></a></li><li><a href="#BioMedQuery.PubMed.db_insert!"><code>BioMedQuery.PubMed.db_insert!</code></a></li><li><a href="#BioMedQuery.PubMed.db_insert!"><code>BioMedQuery.PubMed.db_insert!</code></a></li><li><a href="#BioMedQuery.PubMed.db_insert!"><code>BioMedQuery.PubMed.db_insert!</code></a></li><li><a href="#BioMedQuery.PubMed.dfs_to_csv"><code>BioMedQuery.PubMed.dfs_to_csv</code></a></li><li><a href="#BioMedQuery.PubMed.dict_to_array-Tuple{Dict}"><code>BioMedQuery.PubMed.dict_to_array</code></a></li><li><a href="#BioMedQuery.PubMed.drop_mysql_keys!-Tuple{MySQL.Connection}"><code>BioMedQuery.PubMed.drop_mysql_keys!</code></a></li><li><a href="#BioMedQuery.PubMed.get_article_mesh-Tuple{Any,Integer}"><code>BioMedQuery.PubMed.get_article_mesh</code></a></li><li><a href="#BioMedQuery.PubMed.get_article_mesh_by_concept-Tuple{Any,Integer,Vararg{Any,N} where N}"><code>BioMedQuery.PubMed.get_article_mesh_by_concept</code></a></li><li><a href="#BioMedQuery.PubMed.parse_MedlineDate-Tuple{String}"><code>BioMedQuery.PubMed.parse_MedlineDate</code></a></li><li><a href="#BioMedQuery.PubMed.parse_articles-Tuple{LightXML.XMLElement}"><code>BioMedQuery.PubMed.parse_articles</code></a></li><li><a href="#BioMedQuery.PubMed.parse_author-Tuple{LightXML.XMLElement}"><code>BioMedQuery.PubMed.parse_author</code></a></li><li><a href="#BioMedQuery.PubMed.parse_month-Tuple{AbstractString}"><code>BioMedQuery.PubMed.parse_month</code></a></li><li><a href="#BioMedQuery.PubMed.parse_orcid-Tuple{String}"><code>BioMedQuery.PubMed.parse_orcid</code></a></li><li><a href="#BioMedQuery.PubMed.parse_year-Tuple{AbstractString}"><code>BioMedQuery.PubMed.parse_year</code></a></li><li><a href="#BioMedQuery.PubMed.remove_csvs-Tuple{Array{String,1}}"><code>BioMedQuery.PubMed.remove_csvs</code></a></li><li><a href="#BioMedQuery.PubMed.remove_csvs"><code>BioMedQuery.PubMed.remove_csvs</code></a></li><li><a href="#BioMedQuery.PubMed.save_efetch!"><code>BioMedQuery.PubMed.save_efetch!</code></a></li><li><a href="#BioMedQuery.PubMed.save_efetch!"><code>BioMedQuery.PubMed.save_efetch!</code></a></li><li><a href="#BioMedQuery.PubMed.save_pmids!"><code>BioMedQuery.PubMed.save_pmids!</code></a></li><li><a href="#BioMedQuery.PubMed.strip_newline-Tuple{String}"><code>BioMedQuery.PubMed.strip_newline</code></a></li></ul><h2><a class="nav-anchor" id="Structs-and-Functions-1" href="#Structs-and-Functions-1">Structs and Functions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.abstracts-Tuple{Any}" href="#BioMedQuery.PubMed.abstracts-Tuple{Any}"><code>BioMedQuery.PubMed.abstracts</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">abstracts(db; local_medline=false)</code></pre><p>Return all abstracts related to PMIDs in the database. If local_medline flag is set to true, it is assumed that db contains <em>basic</em> table with only PMIDs and all other info is available in a (same host) medline database</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L384-L390">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.abstracts_by_year-Tuple{Any,Any}" href="#BioMedQuery.PubMed.abstracts_by_year-Tuple{Any,Any}"><code>BioMedQuery.PubMed.abstracts_by_year</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">abstracts_by_year(db, pub_year; local_medline=false)</code></pre><p>Return all abstracts of article published in the given year. If local_medline flag is set to true, it is assumed that db contains <em>article</em> table with only PMIDs and all other info is available in a (same host) medline database</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L352-L358">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.add_mysql_keys!-Tuple{MySQL.Connection}" href="#BioMedQuery.PubMed.add_mysql_keys!-Tuple{MySQL.Connection}"><code>BioMedQuery.PubMed.add_mysql_keys!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">add_mysql_keys!(conn)</code></pre><p>Adds indices/keys to MySQL PubMed tables.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L205-L209">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.all_pmids-Tuple{Any}" href="#BioMedQuery.PubMed.all_pmids-Tuple{Any}"><code>BioMedQuery.PubMed.all_pmids</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">all_pmids(db)</code></pre><p>Return all PMIDs stored in the <em>basic</em> table of the input database</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L331-L335">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.citations_bibtex" href="#BioMedQuery.PubMed.citations_bibtex"><code>BioMedQuery.PubMed.citations_bibtex</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">citations_bibtex(article::Dict{String,DataFrame}, verbose=false)</code></pre><p>Transforms a Dictionary of pubmed dataframes into text corresponding to its bibtex citation</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/citation_manager.jl#L84-L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.citations_endnote" href="#BioMedQuery.PubMed.citations_endnote"><code>BioMedQuery.PubMed.citations_endnote</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">citations_endnote(article::Dict{String,DataFrame}, verbose=false)</code></pre><p>Transforms a Dictionary of pubmed dataframes into text corresponding to its endnote citation</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/citation_manager.jl#L28-L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.create_pmid_table!-Tuple{Any}" href="#BioMedQuery.PubMed.create_pmid_table!-Tuple{Any}"><code>BioMedQuery.PubMed.create_pmid_table!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">create_pmid_table!(conn; tablename=&quot;article&quot;)</code></pre><p>Creates a table, using either MySQL of SQLite, to store PMIDs from Entrez related searches. All tables are empty at this point</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L309-L314">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.create_tables!-Tuple{Any}" href="#BioMedQuery.PubMed.create_tables!-Tuple{Any}"><code>BioMedQuery.PubMed.create_tables!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">create_tables!(conn)</code></pre><p>Create and initialize tables to save results from an Entrez/PubMed search or a medline file load. Caution, all related tables are dropped if they exist</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L8-L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.db_insert!" href="#BioMedQuery.PubMed.db_insert!"><code>BioMedQuery.PubMed.db_insert!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">db_insert!(conn, articles::Dict{String,DataFrame}, csv_path=pwd(), csv_prefix=&quot;&lt;current date&gt;_PubMed_&quot;; verbose=false, drop_csvs=false)</code></pre><p>Writes dictionary of dataframes to a MySQL database.  Tables must already exist (see PubMed.create_tables!).  CSVs that are created during writing can be saved (default) or removed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L458-L462">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.db_insert!" href="#BioMedQuery.PubMed.db_insert!"><code>BioMedQuery.PubMed.db_insert!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">db_insert!(conn, csv_path=pwd(), csv_prefix=&quot;&lt;current date&gt;_PubMed_&quot;; verbose=false, drop_csvs=false)</code></pre><p>Writes CSVs from PubMed parsing to a MySQL database.  Tables must already exist (see PubMed.create_tables!).  CSVs can optionally be removed after being written to DB.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L496-L500">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.db_insert!" href="#BioMedQuery.PubMed.db_insert!"><code>BioMedQuery.PubMed.db_insert!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">db_insert!(conn, articles::Dict{String,DataFrame}, csv_path=pwd(), csv_prefix=&quot;&lt;current date&gt;_PubMed_&quot;; verbose=false, drop_csvs=false)</code></pre><p>Writes dictionary of dataframes to a SQLite database.  Tables must already exist (see PubMed.create_tables!).  CSVs that are created during writing can be saved (default) or removed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L569-L573">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.dfs_to_csv" href="#BioMedQuery.PubMed.dfs_to_csv"><code>BioMedQuery.PubMed.dfs_to_csv</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">dfs_to_csv(dfs::Dict, path::String, [file_prefix::String])</code></pre><p>Takes output of toDataFrames and writes to CSV files at the provided path and with the file prefix.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L505-L508">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.drop_mysql_keys!-Tuple{MySQL.Connection}" href="#BioMedQuery.PubMed.drop_mysql_keys!-Tuple{MySQL.Connection}"><code>BioMedQuery.PubMed.drop_mysql_keys!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">drop_mysql_keys!(conn)</code></pre><p>Removes keys/indices from MySQL PubMed tables.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L255-L259">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.get_article_mesh-Tuple{Any,Integer}" href="#BioMedQuery.PubMed.get_article_mesh-Tuple{Any,Integer}"><code>BioMedQuery.PubMed.get_article_mesh</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">get_article_mesh(db, pmid)</code></pre><p>Get the all mesh-descriptors associated with a given article</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L412-L416">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.get_article_mesh_by_concept-Tuple{Any,Integer,Vararg{Any,N} where N}" href="#BioMedQuery.PubMed.get_article_mesh_by_concept-Tuple{Any,Integer,Vararg{Any,N} where N}"><code>BioMedQuery.PubMed.get_article_mesh_by_concept</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">get_article_mesh_by_concept(db, pmid, umls_concepts...; local_medline)</code></pre><p>Get the all mesh-descriptors associated with a given article</p><p><strong>Arguments:</strong></p><ul><li>query_string: &quot;&quot; - assumes full set of results were saved by BioMedQuery directly from XML</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L431-L437">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.parse_articles-Tuple{LightXML.XMLElement}" href="#BioMedQuery.PubMed.parse_articles-Tuple{LightXML.XMLElement}"><code>BioMedQuery.PubMed.parse_articles</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">parse_articles(xml)</code></pre><p>Parses a PubMedArticleSet that matches the NCBI-XML format</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L168-L172">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.save_efetch!" href="#BioMedQuery.PubMed.save_efetch!"><code>BioMedQuery.PubMed.save_efetch!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none"> pubmed_save_efetch(efetch_dict, conn)</code></pre><p>Save the results (dictionary) of an entrez-pubmed fetch to the input database.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/eutils_sql_save.jl#L7-L11">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.save_efetch!" href="#BioMedQuery.PubMed.save_efetch!"><code>BioMedQuery.PubMed.save_efetch!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">save_efetch!(output::CitationOutput, efetch_dict, verbose=false)</code></pre><p>Save the results of a Entrez efetch to a bibliography file, with format and file path given by <code>output::CitationOutput</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/citation_manager.jl#L121-L126">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.save_pmids!" href="#BioMedQuery.PubMed.save_pmids!"><code>BioMedQuery.PubMed.save_pmids!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none"> save_pmids!(conn, pmids::Vector{Int64}, verbose::Bool=false)</code></pre><p>Save a list of PMIDS into input database.</p><p><strong>Arguments:</strong></p><ul><li><code>conn</code>: Database connection (MySQL or SQLite)</li><li><code>pmids</code>: Array of PMIDs</li><li><code>verbose</code>: Boolean to turn on extra print statements</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/eutils_sql_save.jl#L29-L37">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.all_mesh-Tuple{Any}" href="#BioMedQuery.PubMed.all_mesh-Tuple{Any}"><code>BioMedQuery.PubMed.all_mesh</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">all_mesh(db)</code></pre><p>Return all MeSH stored in the <em>mesh_desc</em> table of the input database</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_sql_utils.jl#L342-L346">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.dict_to_array-Tuple{Dict}" href="#BioMedQuery.PubMed.dict_to_array-Tuple{Dict}"><code>BioMedQuery.PubMed.dict_to_array</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">dict_to_array(dict::Dict)</code></pre><p>Given a dictionary, returns a tuple of arrays with the keys and values.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L5-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.parse_MedlineDate-Tuple{String}" href="#BioMedQuery.PubMed.parse_MedlineDate-Tuple{String}"><code>BioMedQuery.PubMed.parse_MedlineDate</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">parse_MedlineDate(ml_dt::String)</code></pre><p>Parses the contents of the MedlineDate element and returns a tuple of the year and month.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L34-L38">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.parse_author-Tuple{LightXML.XMLElement}" href="#BioMedQuery.PubMed.parse_author-Tuple{LightXML.XMLElement}"><code>BioMedQuery.PubMed.parse_author</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">parse_author</code></pre><p>Takes xml for author, and returns parsed elements</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L124-L128">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.parse_month-Tuple{AbstractString}" href="#BioMedQuery.PubMed.parse_month-Tuple{AbstractString}"><code>BioMedQuery.PubMed.parse_month</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">parse_month(mon::String)</code></pre><p>Parses the string month (month or season) and returns an integer with the first month in range.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L66-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.parse_orcid-Tuple{String}" href="#BioMedQuery.PubMed.parse_orcid-Tuple{String}"><code>BioMedQuery.PubMed.parse_orcid</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">parse_orcid(raw_orc::String)</code></pre><p>Takes a string containing an ORC ID (url, 16 digit string) and returns a formatted ID (0000-1111-2222-3333).</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L109-L113">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.parse_year-Tuple{AbstractString}" href="#BioMedQuery.PubMed.parse_year-Tuple{AbstractString}"><code>BioMedQuery.PubMed.parse_year</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">parse_year(yr::String)</code></pre><p>Parses the string year and returns an integer with the first year in range.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L53-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.remove_csvs" href="#BioMedQuery.PubMed.remove_csvs"><code>BioMedQuery.PubMed.remove_csvs</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">remove_csvs(dfs, path, file_prefix)</code></pre><p>Removes all of the CSV files associated with a dictionary of dataframes</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L514-L517">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.remove_csvs-Tuple{Array{String,1}}" href="#BioMedQuery.PubMed.remove_csvs-Tuple{Array{String,1}}"><code>BioMedQuery.PubMed.remove_csvs</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">remove_csvs(paths::Vector)</code></pre><p>Removes all of the CSV files associated with an array of paths</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L523-L526">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BioMedQuery.PubMed.strip_newline-Tuple{String}" href="#BioMedQuery.PubMed.strip_newline-Tuple{String}"><code>BioMedQuery.PubMed.strip_newline</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">strip_newline(val::String)</code></pre><p>Replaces new line characters with spaces.</p></div></div><a class="source-link" target="_blank" href="https://github.com/bcbi/BioMedQuery.jl/blob/1be220d2c864e2416331847b384ee996470d582c/src/PubMed/pubmed_to_csv.jl#L22-L26">source</a></section><footer><hr/><a class="previous" href="../processes/"><span class="direction">Previous</span><span class="title">Processes/Workflows</span></a><a class="next" href="../ct/"><span class="direction">Next</span><span class="title">Clinical Trials</span></a></footer></article></body></html>
